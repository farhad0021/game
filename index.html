<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flappy Bird Game</title>
    <style>
        /* style.css */
body, html {
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: auto;
    max-width: 400px;
    
}
.main{
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
}
#game-container {
    height: 100%;
    width: 100%;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

canvas {
    background-image: url('https://e1.pxfuel.com/desktop-wallpaper/982/569/desktop-wallpaper-flappy-bird-backgrounds-flappy-bird.jpg');
    background-size: cover; /* Cover the entire canvas */
    background-repeat: repeat; /* Repeat the background image */
    
}

#game-over-menu {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    text-align: center;
    padding: 20px;
    border-radius: 10px;
}

.hidden {
    display: none;
}

#restart-button {
    background-color: #ff4747;
    border: none;
    padding: 10px 20px;
    color: white;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    margin-top: 15px;
}

#restart-button:hover {
    background-color: #ff2d2d;
}

#start-menu {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    text-align: center;
    padding: 20px;
    border-radius: 10px;
}

#start-button {
    background-color: #28a745;
    border: none;
    padding: 10px 20px;
    color: white;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
}

#start-button:hover {
    background-color: #218838;
}

#score {
    position: absolute;
    top: 35px;
    left: 25px;
    font-size: 24px;
    color: white; /* Change text color to white for better contrast */
    background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent background */
    padding: 10px 15px; /* Add some padding */
    border-radius: 5px; /* Rounded corners */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); /* Subtle shadow for depth */
    font-family: 'Arial', sans-serif; /* Change font family */
    text-align: center; /* Center align text */
}


    </style>
</head>
<body>
<div class="main">
    <div id="game-container">
        <canvas id="gameCanvas"></canvas>
        <div id="game-over-menu" class="hidden">
            <h2>Game Over</h2>
            <button id="restart-button">Restart</button>
        </div>
        <div id="start-menu">
            <h2>Welcome to Flappy Bird!</h2>
            <button id="start-button">Start Game</button>
        </div>
    </div>
</div>
    <script>
        // Get canvas and context
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// Get game over menu, restart button, and start menu
const gameOverMenu = document.getElementById('game-over-menu');
const restartButton = document.getElementById('restart-button');
const startMenu = document.getElementById('start-menu');
const startButton = document.getElementById('start-button');

// Set canvas dimensions
canvas.width = 450;
canvas.height = 700;

// Load bird image
const birdImage = new Image();
birdImage.src = 'https://i.ibb.co/3yzQPqf/pngwing-com.png'; // Your bird image URL

// Load pipe images
const upperPipeImage = new Image();
upperPipeImage.src = 'https://i.ibb.co/gyf0j1D/lower.png'; // Upper pipe image URL

const lowerPipeImage = new Image();
lowerPipeImage.src = 'https://i.ibb.co/Kxv5nzL/upper.png'; // Lower pipe image URL

// Score display
let score = 0;
const scoreElement = document.createElement('div');
scoreElement.id = 'score';
document.body.appendChild(scoreElement);

// Bird properties
let birdY = canvas.height / 3; // Bird's Y position
let birdVelocity = 0;
const gravity = 0.6;
const jump = -9;

// Pipe properties
const pipeWidth = 50;
const pipeGap = 150;
let pipes = [];
let pipeSpeed = 3;
let gameOver = false;

// Draw the bird
function drawBird() {
    ctx.drawImage(birdImage, 50 - 20, birdY - 20, 40, 40); // Draw the bird image
}

// Update bird position
function updateBird() {
    birdVelocity += gravity;
    birdY += birdVelocity;
    if (birdY > canvas.height) {
        birdY = canvas.height;
        endGame(); // End game when bird falls out of bounds
    }
    if (birdY < 0) {
        birdY = 0;
        birdVelocity = 0;
    }
}

// Create pipes at random heights
function createPipe() {
    let pipeHeight = Math.random() * (canvas.height - pipeGap - 100) + 50;
    pipes.push({
        x: canvas.width,
        upperPipeHeight: pipeHeight,
        lowerPipeY: pipeHeight + pipeGap
    });
}

// Update pipe positions and remove pipes off-screen
function updatePipes() {
    for (let i = pipes.length - 1; i >= 0; i--) {
        pipes[i].x -= pipeSpeed;
        if (pipes[i].x + pipeWidth < 0) {
            pipes.splice(i, 1); // Remove pipes that are off-screen
        } else if (pipes[i].x + pipeWidth < 50) {
            // Increment score when bird passes a pipe
            score++;
            updateScoreDisplay();
        }
    }
}

// Draw the pipes using images
function drawPipes() {
    pipes.forEach(pipe => {
        // Draw upper pipe
        ctx.drawImage(upperPipeImage, pipe.x, 0, pipeWidth, pipe.upperPipeHeight);
        // Draw lower pipe
        ctx.drawImage(lowerPipeImage, pipe.x, pipe.lowerPipeY, pipeWidth, canvas.height - pipe.lowerPipeY);
    });
}

// Check for collisions between the bird and the pipes
function checkCollision() {
    for (let pipe of pipes) {
        // Check if bird hits the upper or lower pipe
        if (
            (50 + 20 > pipe.x && 50 - 20 < pipe.x + pipeWidth) &&
            (birdY - 20 < pipe.upperPipeHeight || birdY + 20 > pipe.lowerPipeY)
        ) {
            endGame();
        }
    }
}

// End the game and show the Game Over menu
function endGame() {
    gameOver = true;
    cancelAnimationFrame(animationId);
    gameOverMenu.classList.remove('hidden'); // Show game over popup
}

// Restart the game
function restartGame() {
    birdY = canvas.height / 2; // Reset bird position
    birdVelocity = 0;
    pipes = []; // Clear pipes
    gameOver = false;
    score = 0; // Reset score
    updateScoreDisplay(); // Update score display
    gameOverMenu.classList.add('hidden'); // Hide game over popup
    gameLoop(); // Restart the game loop
}

// Start the game
function startGame() {
    startMenu.classList.add('hidden'); // Hide start menu
    gameLoop(); // Start the game loop
}

// Update score display
function updateScoreDisplay() {
    scoreElement.innerText = `Score: ${score}`;
}

// Main game loop
let animationId;
function gameLoop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas

    if (!gameOver) {
        updateBird();
        drawBird();
        updatePipes();
        drawPipes();
        checkCollision();

        animationId = requestAnimationFrame(gameLoop);
    }
}

// Create pipes at intervals
setInterval(createPipe, 2000); // New pipe every 2 seconds

// Make the bird jump when the spacebar is pressed
document.addEventListener('keydown', function(event) {
    if (event.code === 'Space' && !gameOver) {
        birdVelocity = jump;
    }
});

// Add touch control for mobile devices
canvas.addEventListener('touchstart', function(event) {
    event.preventDefault(); // Prevent scrolling
    if (!gameOver) {
        birdVelocity = jump; // Make the bird jump
    }
});

// Restart the game when the restart button is clicked
restartButton.addEventListener('click', restartGame);

// Start the game when the start button is clicked
startButton.addEventListener('click', startGame);

    </script>
</body>
</html>
